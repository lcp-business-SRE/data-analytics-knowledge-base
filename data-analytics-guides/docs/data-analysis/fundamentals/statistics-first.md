---
sidebar_position: 6
title: 平均値と中央値と最頻値
description: 平均値と中央値と最頻値について
tags: [データ分析, 基礎, 統計]
custom_react_root: true
---

# 平均値と中央値と最頻値

平均値、中央値、最頻値という三つの統計量を皆さんも耳にすることは多いと思います。
これらは代表値と呼ばれ、データの中心的な傾向を表す数値としてよく使われます。
それぞれの定義や、計算方法は皆さんご存じでしょうが、ここで再度確認しましょう。

## 各値の算出方法

### 平均値

平均値は、データの合計をデータの個数で割った値です。
全体で $ n $ 個のデータがあるとき、個々のデータを $[x_1, x_2, \ldots, x_n]$ とすると、平均値は次のように表されます。

``` math

\bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i

```

### 中央値

中央値は、データを大きい順に並べたときに中央に位置する値です。
データの個数が奇数の場合は、中央の値が中央値になります。データの個数が偶数の場合は、中央の二つの値の平均が中央値になります。
データを \( x_1, x_2, \ldots, x_n \) としたとき、中央値は次のように表されます。

``` math
\text{中央値} = \begin{cases}
\frac{x_{(n/2)} + x_{(n/2 + 1)}}{2} & \text{if } n \text{ is even} \\
x_{((n+1)/2)} & \text{if } n \text{ is odd}
\end{cases}
```

### 最頻値

最頻値は、データの中で最も頻繁に出現する値です。
データの中に最も多く出現する値が複数ある場合は、最頻値は複数存在することになります。
最頻値は、データの個数が \( n \) のとき、

``` math
\text{最頻値} = \text{mode}(x_1, x_2, \ldots, x_n)
```

と表されます。

## 平均値の弱点

平均値は、データの中心的な傾向を表す指標として広く使われますが、いくつかの弱点があります。

### 外れ値の影響を受けやすい

平均値は、データの中に極端に大きい値や小さい値があると、その影響を大きく受けてしまいます。
有名な例として、2012年度に花巻東高校を卒業した生徒の平均年収が上げられます。彼らの平均年収は極めて高いことが容易に想像できます。それはメジャーリーガーの大谷翔平選手が在籍していたことで彼の超高額年俸が平均値を押し上げることを容易に想像できるからです。
このように、平均値は外れ値の影響を受けやすいため、データの中心的な傾向を正確に表すことができない場合があります。

### 分布の形状を反映しない

平均値は、データの分布の形状を反映しないため、データの分布が偏っている場合、平均値だけではデータの中心的な傾向を正確に表すことができません。
例えば月面の平均気温は250K(摂氏約-23℃)ですが、月面の昼と夜の気温差は大きく、昼は400K(摂氏約127℃)、夜は100K(摂氏約-173℃)となり、平均値付近の気温になることはほとんどありません。
このように、平均値はデータの分布の形状を反映しないため、データの中心的な傾向を正確に表すことができない場合があります。

これらの弱点を克服するために、中央値や最頻値が使われることがあります。では中央値や最頻値を用いると先ほどの例はどうなるでしょうか。

## 中央値と最頻値

中央値は、データの中心的な傾向をより正確に表すことができる指標です。外れ値の影響を受けにくく、データの分布の形状を反映しやすい特徴があります。

### 外れ値の影響を受けにくい

先ほどの花巻東高校の生徒の年収の例では、平均値は大谷翔平選手の年収によって大きく押し上げられますが、中央値は他の生徒の年収をより正確に反映することが期待できるでしょう。
また、最頻値で考えてみても適切な区間分けをしていれば実態を反映した値が得られるでしょう。

### 分布の形状は反映しない

月面の気温の例ではどうでしょうか。
月面の昼と夜の気温差が大きいため、平均値は250K(摂氏約-23℃)でした。
では中央値ならどうか考えてみましょう。月の昼と夜はそれぞれ14日間程度続くため、月面の昼と夜の気温をそれぞれ400K(摂氏約127℃)と100K(摂氏約-173℃)とすると、月面の気温は次のようになります。

|1週目|2週目|3週目|4週目|
|---|---|---|---|
|400K|400K|100K|100K|

ここから中央値を求めると250K(摂氏約-23℃)となりますが、やはり月面の気温を正確に表すことはできていません。
では最頻値ではどうでしょうか。
最頻値は、データの中で最も頻繁に出現する値を表す指標です。
先ほどの月面の気温の例では、昼と夜の気温差が大きいため、最頻値は昼の気温400K(摂氏約127℃)と夜の気温100K(摂氏約-173℃)の二つの値が最頻値となります。しかし、実際に測定する場合を考えると同じ値が頻繁に出現することは少ないため、最頻値は極端に寒い値か熱い値のどちらか一方になるでしょう。
これでは、月面の両極端な気温の一方しか反映できていません。

このように、中央値や最頻値も平均値と同様に、データの中心的な傾向を正確に表すことができない場合があります。
そのため、データの分布の形状を考慮した上で、代表値を決定する必要があります。

## 平均値の使いどころ

先ほどの二つの例を見ると平均値では上手くいかないことも、中央値では上手くいくことがあることがわかりました。
皆さんの中には、平均値を使うより中央値を使うほうがいいのではないかと思った方もいらっしゃるかもしれません。
確かに、平均値は外れ値の影響を受けやすく、データの分布の形状を反映しないため、中央値や最頻値を使う方が適切な場合も多く存在します。
ですが、現実では平均値が中央値よりも様々な場面で使われています。
その理由を考えてみましょう。

まず平均値は外れ値を含めたほうがいい場合に力を発揮します。
それでは宝くじの当選金額の例を考えてみましょう。
宝くじの当選金額は、1等が数億円、2等が数千万円、3等が数百万円である一方、ほとんどのくじは外れくじです。
当たる確率の極端に低い1等の当選金は外れ値として言えますが、この場合に1等を外れ値として無視するのは適切でしょうか？
宝くじ当選者の平均当選金額を求める場合、1等の当選金額を外れ値として無視してしまうと、宝くじの魅力を正確に伝えることができません。
このように、平均値は外れ値を含めたほうがいい場合に力を発揮します。
さらに一歩進めると、期待値を最終的に求める場合は平均値を使用する必要があります。

次にその他の平均値の使いどころを考えてみましょう。
例えば、莫大な数の砂粒の重さを測定する場合を考えてみましょう。
砂粒の重さを一つづつ測るのは現実的ではありませんが、どうにか個数だけカウントすれば後は全体の重さを測ることで平均値を求めることができます。
それに途方もない努力をして全ての砂粒の重さを測ったとしても、中央値を求めるのであれば次に待ち受けるのは膨大なデータの並び替えです。
このように膨大なデータの代表値を求める場合には計算コストを抑えるために平均値を使うことが適切です。

## まとめ

平均値、中央値、最頻値は以下の表のような特徴と向いた使いどころがあります。

|代表値|定義|特徴|長所|短所|使いどころ|使用例|
|---|---|---|---|---|---|---|
|平均値|データの合計をデータの個数で割った値|極端な一つの値を差分の大きさまで反映する。分布の形状を反映しない。|計算が簡単。外れ値の影響が残せる。期待値計算に使用できる。|外れ値の影響を受けやすい。分布の形状を反映しない。|計算量が膨大な場合。期待値を求めたいとき。外れ値が少ない時。合計値の重要な時|平均動員数|
|中央値|データを大きい順に並べたときに中央に位置する値|外れ値の大小の影響を受けない。分布の形状をほとんど反映しない|外れ値の影響を無視した値が出せる|分布の形状を反映しない。ソートが必要|外れ値の影響を受けたくない場合。計算量が少ない場合|年収の中央値|
|最頻値|データの中で最も頻繁に出現する値|実際に存在する値になる。分布の形状をほとんど反映しない|実際の値になる。外れ値の影響を受けない|分布の形状をほとんど反映しない。全データのカウントが必要。一意に値が定まらない場合がある。|実際に取得した数値を使いたい場合。都合の良い分布形状の場合|故障時期の分析|

このように、平均値、中央値、最頻値はそれぞれ異なる特徴を持っており、データの性質や目的に応じて使い分けることが重要です。
